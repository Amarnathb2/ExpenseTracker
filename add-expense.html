<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Add Expense</title>
<style>
  body { font-family: Arial; margin:20px; text-align:center; }
  form { max-width:400px; margin:0 auto; display:flex; flex-direction:column; gap:10px; }
  label { font-weight:bold; }
  input, select, button { padding:8px; border-radius:6px; border:1px solid #cbd5e0; }
  button { background:#2b6cb0; color:white; cursor:pointer; }
  button:hover { background:#2c5282; }
</style>
</head>
<body>
<h2>Add Expense</h2>
<form id="expenseForm">
  <label>Expense Type:</label>
  <select id="expenseType">
    <option value="Grocery">Grocery</option>
    <option value="Food">Food</option>
    <option value="Travel">Travel</option>
    <option value="EMI">EMI</option>
    <option value="Other">Other</option>
  </select>

  <div id="emiDiv" style="display:none;">
    <label>EMI Type:</label>
    <select id="emiType"></select>
    <button type="button" onclick="window.location='configure-emi.html'">Configure New EMI</button>
  </div>

  <!-- New input for item -->
  <label>Item Name:</label>
  <input type="text" id="itemName" placeholder="Enter item name" required>

  <label>Amount:</label>
  <input type="number" id="amount" required>
  <button type="submit">Add Expense</button>
</form>

<script src="app.js"></script>
<script>
addBackButton(); // Add Home button
const expenseType = document.getElementById('expenseType');
const emiDiv = document.getElementById('emiDiv');
const emiSelect = document.getElementById('emiType');

expenseType.addEventListener('change', e => {
  emiDiv.style.display = e.target.value==='EMI' ? 'block':'none';
  populateEMItypes('emiType');
});

document.getElementById('expenseForm').addEventListener('submit', e=>{
  e.preventDefault();
  const type = expenseType.value;
  const amount = parseFloat(document.getElementById('amount').value);
  const emiType = type==='EMI' ? emiSelect.value : null;
  const itemName = document.getElementById('itemName').value.trim();
  if(!itemName) return alert('Please enter item name');

  addExpense(type, amount, emiType, itemName);
  window.location='index.html';
});

</script>
</body>

</html>
